import{r as v,c as h,a as t,b as M,F as m,d as a,o as d,C as Y,L as R,e as q,p as J,f as Z,g as K,P as Q,h as x,i as ee,j as T,S as te,k as ue,l as ne,m as I,B as V,n as N,q as oe,M as se,D as le,s as ae,t as ie,V as E,u as re,v as O,w as _,x as F,y as f,z as p,A as L,E as A,G as W,H as j,I as z,J as H,K as X,N as de,O as he,Q as ce,R as pe,T as me,U as fe}from"./vendor.ac3301f0.js";const be=function(){const u=document.createElement("link").relList;if(u&&u.supports&&u.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))l(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const n of r.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&l(n)}).observe(document,{childList:!0,subtree:!0});function i(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerpolicy&&(r.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?r.credentials="include":s.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function l(s){if(s.ep)return;s.ep=!0;const r=i(s);fetch(s.href,r)}};be();var g=(e,u)=>{const i=e.__vccOpts||e;for(const[l,s]of u)i[l]=s;return i};const _e={name:"App"},Ce=t("nav",{class:"navbar navbar-dark bg-dark"},[t("div",{class:"container"},[t("a",{class:"navbar-brand",href:"#"},"MONSOLA-11 Clone")])],-1),Be={class:"container"},Ae=t("div",{class:"alert alert-warning mt-2",role:"alert"},[a(" \u592A\u967D\u5149\u767A\u96FB\u306E\u8A55\u4FA1\u3067\u5E83\u304F\u5229\u7528\u3055\u308C\u3066\u304D\u305FNEDO\u306E\u30C7\u30FC\u30BF\u30D9\u30FC\u30B9\u304C\u3001Flash\u306E\u30B5\u30DD\u30FC\u30C8\u7D42\u4E86\u306B\u4F34\u3044\u30A6\u30A7\u30D6\u4E0A\u3067\u306E\u5229\u7528\u304C\u3067\u304D\u306A\u304F\u306A\u308A\u307E\u3057\u305F\u3002 \u975E\u516C\u5F0F\u3067\u3059\u304C\u3001Flash\u306B\u4EE3\u308F\u308AJavaScript\u3067\u30A6\u30A7\u30D6\u30A2\u30D7\u30EA\u3092\u5B9F\u88C5\u3057\u307E\u3057\u305F\u306E\u3067\u3001\u7686\u69D8\u306B\u3054\u5229\u7528\u3044\u305F\u3060\u3051\u307E\u3059\u3088\u3046\u516C\u958B\u3057\u307E\u3059\u3002 "),t("br"),a(" \u203B\u30C7\u30FC\u30BF\u30D9\u30FC\u30B9\u306E\u8457\u4F5C\u6A29\u306F\u3001\u3059\u3079\u3066NEDO\u307E\u305F\u306FJWA\u304C\u6240\u6709\u3057\u3066\u3044\u307E\u3059\u3002 \u30C7\u30FC\u30BF\u306E\u5229\u7528\u306B\u3064\u3044\u3066\u306F"),t("a",{href:"https://www.nedo.go.jp/qinf/copyright.html"},"NEDO\u306E\u30B5\u30A4\u30C8"),a("\u3092\u3054\u78BA\u8A8D\u304F\u3060\u3055\u3044\u3002 \u672C\u30B5\u30A4\u30C8\u306B\u8A18\u8F09\u3055\u308C\u3066\u3044\u308B\u60C5\u5831\u306E\u6B63\u78BA\u3055\u306B\u3064\u3044\u3066\u306F\u4E07\u5168\u3092\u671F\u3057\u3066\u304A\u308A\u307E\u3059\u304C\u3001\u30D7\u30ED\u30B0\u30E9\u30E0\u4F5C\u6210\u8005\u306F\u5229\u7528\u8005\u304C\u672C\u30B5\u30A4\u30C8\u306E\u60C5\u5831\u3092\u7528\u3044\u3066\u884C\u3046\u4E00\u5207\u306E\u884C\u70BA\u306B\u3064\u3044\u3066\u3001\u4F55\u3089\u8CAC\u4EFB\u3092\u8CA0\u3046\u3082\u306E\u3067\u306F\u3042\u308A\u307E\u305B\u3093\u3002 ")],-1);function Ee(e,u,i,l,s,r){const n=v("router-view");return d(),h(m,null,[Ce,t("main",Be,[Ae,M(n)])],64)}var Fe=g(_e,[["render",Ee]]);Y.register(R,q,J,Z,K,Q,x,ee);const ge=T({name:"Chart",props:{data:null,options:null},data(){return{ctx:null}},mounted:function(){this.ctx=document.getElementById("myChart").getContext("2d"),this.chart=new Y(this.ctx,{type:"line",data:this.data,options:this.options})},methods:{},watch:{data:function(e,u){this.chart.data=e,this.chart.update()},options:function(e,u){this.chart.options=e,this.chart.update()}}}),ve={id:"myChart"};function ye(e,u,i,l,s,r){return d(),h("canvas",ve)}var $e=g(ge,[["render",ye]]);function P(e){if(e.byteLength!=64+17*128*2)throw new Error("invalid file size");const u=e.slice(0,64),l=new TextDecoder().decode(u).split(/\s+/),s=new Int16Array(e,64,17*128),r=[];for(let n=0;n<128;n++)r[n]=[];for(let n=0;n<s.length;n++){let c=s[n];const C=Math.floor(n/17);C==120||C==125?c=c/10:c=c/100,r[C].push(c)}return{area:Number.parseInt(l[0]),id:Number.parseInt(l[1]),name:l[2],lat_d:Number.parseInt(l[3]),lat_m:Number.parseFloat(l[4]),long_d:Number.parseInt(l[5]),long_m:Number.parseFloat(l[6]),alti:Number.parseInt(l[7]),data:r}}function G(e){const u=e.split(`
`),i=[];for(let l=0;l<u.length;l++){if(u[l].length==0)continue;const s=u[l].split(",");i.push({id:Number.parseInt(s[0]),name:s[1],area:Number.parseInt(s[2]),lat:Number.parseFloat(s[3]),long:Number.parseFloat(s[4]),alti:Number.parseFloat(s[5])})}return i}function De(e){const u=e.split(",");return{left:Number.parseInt(u[3]),bottom:Number.parseInt(u[4]),right:Number.parseInt(u[5]),top:Number.parseInt(u[6])}}function ke(e){const u=e.split(`
`),i=[];for(let l=0;l<u.length;l++){if(u[l].length==0)continue;const s=u[l].split(",");i.push({id:Number.parseInt(s[0]),name:s[1],region:Number.parseInt(s[2]),left:Number.parseInt(s[3]),bottom:Number.parseInt(s[4]),right:Number.parseInt(s[5]),top:Number.parseInt(s[6])})}return i}const we=T({name:"PanelPreview",props:{azimuth:Number,altitude:Number},data(){return{plane:null,renderer:null,camera:null,scene:null,shadow:null,groundPlane:null}},watch:{azimuth:function(e){this.updateScene()},altitude:function(e){this.updateScene()}},methods:{updateScene(){this.plane.rotation.x=0,this.plane.rotation.y=0,this.plane.rotation.z=0,this.plane.position.x=0,this.plane.position.y=0,this.plane.position.z=0,this.plane.rotateY(this.azimuth),this.plane.translateZ(.5),this.plane.translateY(.5),this.plane.translateY(-.5),this.plane.rotateX(Math.PI*3/2-this.altitude),this.plane.translateY(.5),this.plane.updateMatrixWorld();const e=new O(0,100,0,.01);this.shadow.update(this.groundPlane,e),this.renderer.render(this.scene,this.camera)}},mounted:function(){const e=new te,u=new ue(60,240/200,.1,1e3),i=new ne;i.setSize(240,200),document.body.appendChild(i.domElement);{const D=new I({color:8947848}),B=[];for(let S=0;S<32;S++)B.push(new E(Math.sin(Math.PI*2/32*S)*1,0,Math.cos(Math.PI*2/32*S)*1));B.push(new E(0,0,1));const k=new V().setFromPoints(B),w=new N(k,D);e.add(w)}{const D=new I({color:8947848}),B=[];B.push(new E(0,0,1.2)),B.push(new E(0,0,-1.2));const k=new V().setFromPoints(B),w=new N(k,D);e.add(w)}{const D=new I({color:8947848}),B=[];B.push(new E(1.2,0,0)),B.push(new E(-1.2,0,0));const k=new V().setFromPoints(B),w=new N(k,D);e.add(w)}const l=new oe(1.732,1,4),s=new se({color:255,side:le,transparent:!0,opacity:.5}),r=new ae(l,s);r.position.y=.5,r.rotateY(-Math.PI/6),r.rotateX(Math.PI/3),e.add(r);const n=new ie(r);e.add(n),u.position.x=1,u.position.y=1,u.position.z=2,u.lookAt(new E(0,0,0));const c=new E(0,1,0),C=.01,o=new re(c,C),$=new O(0,10,10,.01);n.update(o,$),this.renderer=i,this.plane=r,this.camera=u,this.scene=e,this.shadow=n,this.groundPlane=o,this.updateScene(),document.getElementById("panelpreview").appendChild(i.domElement)}}),Me={id:"panelpreview"};function Se(e,u,i,l,s,r){return d(),h("div",Me)}var Te=g(we,[["render",Se]]);const ze=T({name:"Home",components:{Chart:$e,PanelPreview:Te},data(){return{picked:"Angle",angleMode:"Tilt",areaList:null,nationwidePos:null,amedasList:null,info:null,optionMonth:1,valueTilt:0,valueAzimuth:0}},mounted:function(){const e="/monsola11-clone";fetch(e+"/data/code_map1.txt").then(u=>u.text()).then(u=>De(u)),fetch(e+"/data/code_map3.txt").then(u=>u.text()).then(u=>this.areaList=ke(u)),fetch(e+"/data/point_amedas.txt").then(u=>u.text()).then(u=>this.amedasList=G(u)),fetch(e+"/data/monsola11/m11001.bin").then(u=>u.blob()).then(u=>u.arrayBuffer()).then(u=>this.info=P(u))},computed:{selectedArea:{get:function(){return this.$store.state.area},set:function(e){var i;let u=(i=this.amedasList)==null?void 0:i.filter(l=>l.area==e)[0].id;u===void 0&&(u=11001),this.$store.commit("setAmedas",u),this.$store.commit("setArea",e)}},selectedAmedas:{get:function(){return this.$store.state.amedas},set:function(e){this.$store.commit("setAmedas",e)}},filteredPoints:function(){return this.amedasList==null?[]:this.amedasList.filter(e=>e.area===this.selectedArea)},chartData:function(){const e="0\xB0 10\xB0 20\xB0 30\xB0 40\xB0 50\xB0 60\xB0 70\xB0 80\xB0 90\xB0".split(" "),u="1\u6708 2\u6708 3\u6708 4\u6708 5\u6708 6\u6708 7\u6708 8\u6708 9\u6708 10\u6708 11\u6708 12\u6708 \u5E73\u5747 \u51AC \u6625 \u590F \u79CB ".split(" "),i="0\u5EA6 15\u5EA6 30\u5EA6 45\u5EA6 60\u5EA6 75\u5EA6 90\u5EA6 105\u5EA6 120\u5EA6 135\u5EA6 150\u5EA6 165\u5EA6 180\u5EA6".split(" "),l=[{borderColor:"#43BEE5",pointStyle:"circle"},{borderColor:"#0B92D9",backgroundColor:"#0B92D9",pointStyle:"circle"},{borderColor:"#2061D5",pointStyle:"cross"},{borderColor:"#2121CD",pointStyle:"triangle"},{borderColor:"#C866D1",pointStyle:"triangle"},{borderColor:"#ED02B3",backgroundColor:"#ED02B3",pointStyle:"triangle"},{borderColor:"#FF211F",pointStyle:"rect"},{borderColor:"#FF9D00",backgroundColor:"#FF9D00",pointStyle:"rect"},{borderColor:"#E0CC58",pointStyle:"rect"},{borderColor:"#A7AC00",backgroundColor:"#A7AC00",pointStyle:"rect"},{borderColor:"#AEE92C",pointStyle:"rect"},{borderColor:"#62D911",backgroundColor:"#62D911",pointStyle:"rect"},{borderColor:"#5EA829",pointStyle:"rect"}];if(this.picked==="Month"){const s=[];for(let n=0;n<13;n++){const c=[];c.push(this.info.data[0][this.optionMonth-1]);for(let C=0;C<9;C++)c.push(this.info.data[n*9+C+3][this.optionMonth-1]);s.push(c)}const r=[];for(let n=0;n<13;n++)r.push({label:i[n],backgroundColor:l[n].backgroundColor,borderColor:l[n].borderColor,fill:!1,lineTension:0,data:s[n]});return{labels:e,datasets:r}}else{if(this.picked==="Year")return{datasets:[{label:"\u5E73\u5747\u5024",backgroundColor:"#00FF00",borderColor:"#00FF00",fill:!1,lineTension:0,data:this.info.data[0]},{label:"\u6700\u5927\u5024",borderColor:"#FF0000",fill:!1,lineTension:0,data:this.info.data[1]},{label:"\u6700\u5C0F\u5024",borderColor:"#0000FF",fill:!1,lineTension:0,data:this.info.data[2]}],labels:u};if(this.picked==="Angle"){if(this.angleMode==="BestAngle")return{datasets:[{label:"\u6700\u9069\u50BE\u659C\u89D2\u30B0\u30E9\u30D5",backgroundColor:"#0000FF",borderColor:"#0000FF",fill:!1,lineTension:0,data:this.info.data[120]}],labels:u};if(this.angleMode==="EveryMonthBest")return{datasets:[{label:"\u6700\u9069\u50BE\u659C\u89D2\u306B\u304A\u3051\u308B\u65E5\u5C04\u91CF",borderColor:"#0000FF",fill:!1,lineTension:0,data:this.info.data[121]}],labels:u};if(this.angleMode==="YearBest")return{datasets:[{label:"\u5E74\u9593\u6700\u9069\u50BE\u659C\u89D2\u306B\u304A\u3051\u308B\u65E5\u5C04\u91CF",borderColor:"#0000FF",fill:!1,lineTension:0,data:this.info.data[122]}],labels:u};if(this.angleMode==="Tilt"){const s=[0,10,20,30,40,50,60,70,80,90].indexOf(this.valueTilt);if(s===0){const n=[];return n.push({label:i[0],backgroundColor:l[0].backgroundColor,borderColor:l[0].borderColor,fill:!1,lineTension:0,data:this.info.data[0]}),{labels:u,datasets:n}}const r=[];for(let n=0;n<=12;n++)r.push({label:i[n],backgroundColor:l[n].backgroundColor,borderColor:l[n].borderColor,fill:!1,lineTension:0,data:this.info.data[n*9+2+s]});return{labels:u,datasets:r}}else if(this.angleMode==="Azimuth"){const s=[0,15,30,45,60,75,90,105,120,135,150,165,180].indexOf(this.valueAzimuth),r=[];for(let n=0;n<9;n++)r.push({label:e[n+1],backgroundColor:l[n].backgroundColor,borderColor:l[n].borderColor,fill:!1,lineTension:0,data:this.info.data[n+3+s*9]});return{labels:u,datasets:r}}else if(this.angleMode==="TiltAzimuth"){const s=[0,10,20,30,40,50,60,70,80,90].indexOf(this.valueTilt),r=[0,15,30,45,60,75,90,105,120,135,150,165,180].indexOf(this.valueAzimuth);let n;s===0?n=0:n=s+2+r*9;const c=[];return c.push({label:`\u50BE\u659C\u89D2${this.valueTilt}\u5EA6 \u65B9\u4F4D\u89D2${this.valueAzimuth}\u5EA6`,borderColor:l[0].borderColor,fill:!1,lineTension:0,data:this.info.data[n]}),{labels:u,datasets:c}}return null}else throw"unexpected reach"}},chartOptions:function(){let e,u,i,l;if(this.picked==="Month")e="\u6708\u5225\u306E\u65E5\u5C04\u91CF\u30B0\u30E9\u30D5 "+this.optionMonth+"\u6708",u="\u50BE\u659C\u89D2",i="\u65E5\u5C04\u91CF(kWh/m2)",l=8;else if(this.picked==="Year")e="\u5E74\u5909\u52D5\u30B0\u30E9\u30D5",u="\u6708\u30FB\u5B63",i="\u65E5\u5C04\u91CF(kWh/m2)",l=8;else if(this.picked==="Angle")if(this.angleMode==="Tilt")e="\u659C\u9762\u65E5\u5C04\u91CF\u30B0\u30E9\u30D5 \u50BE\u659C\u89D2 "+this.valueTilt+"\u5EA6",u="\u6708\u30FB\u5B63",i="\u65E5\u5C04\u91CF(kWh/m2)",l=8;else if(this.angleMode==="Azimuth")e="\u659C\u9762\u65E5\u5C04\u91CF\u30B0\u30E9\u30D5 \u65B9\u4F4D\u89D2 "+this.valueAzimuth+"\u5EA6",u="\u6708\u30FB\u5B63",i="\u65E5\u5C04\u91CF(kWh/m2)",l=8;else if(this.angleMode==="TiltAzimuth")e="\u659C\u9762\u65E5\u5C04\u91CF\u30B0\u30E9\u30D5 \u50BE\u659C\u89D2 "+this.valueTilt+"\u5EA6 \u65B9\u4F4D\u89D2 "+this.valueAzimuth+"\u5EA6",u="\u6708\u30FB\u5B63",i="\u65E5\u5C04\u91CF(kWh/m2)",l=8;else if(this.angleMode==="BestAngle")e="\u6700\u9069\u50BE\u659C\u89D2\u30B0\u30E9\u30D5",u="\u6708\u30FB\u5B63",i="\u6700\u9069\u50BE\u659C\u89D2(\xB0)",l=90;else if(this.angleMode==="EveryMonthBest")e="\u6700\u9069\u50BE\u659C\u89D2\u306B\u304A\u3051\u308B\u65E5\u5C04\u91CF\u30B0\u30E9\u30D5",u="\u6708\u30FB\u5B63",i="\u65E5\u5C04\u91CF(kWh/m2)",l=8;else if(this.angleMode==="YearBest")e="\u5E74\u9593\u6700\u9069\u50BE\u659C\u89D2\u306B\u304A\u3051\u308B\u65E5\u5C04\u91CF\u30B0\u30E9\u30D5",u="\u6708\u30FB\u5B63",i="\u65E5\u5C04\u91CF(kWh/m2)",l=8;else throw"unexpected reach";else throw"unexpected reach";return{animation:!1,scales:{x:{title:{display:!0,text:u}},y:{title:{display:!0,text:i},min:0,max:l}},plugins:{legend:{position:"bottom"},title:{display:!0,text:e+" @"+this.info.name}}}}},watch:{selectedAmedas(e,u){fetch("/monsola11-clone"+"/data/monsola11/m"+e+".bin").then(l=>l.blob()).then(l=>l.arrayBuffer()).then(l=>this.info=P(l))}}}),Ie={class:"row row-cols-1 row-cols-md-4 mb-4"},Ve={class:"col"},Ne={class:"card mb-4 shadow-sm"},Le=t("div",{class:"card-header"},[t("h4",null,"\u5730\u70B9\u6307\u5B9A")],-1),Pe={class:"card-body"},Ue=a(" \u30A8\u30EA\u30A2\u540D "),Ye=["value"],Oe=t("br",null,null,-1),We=a(" \u5730\u70B9\u540D "),je=["value"],He=t("br",null,null,-1),Xe=t("button",null,"\u5730\u56F3\u304B\u3089\u9078\u629E",-1),Ge={class:"col"},Re={class:"card mb-4 shadow-sm"},qe=t("div",{class:"card-header"},[t("h4",null,"\u8868\u793A\u30C7\u30FC\u30BF\u6307\u5B9A")],-1),Je={class:"card-body"},Ze=t("label",{for:"month"},"\u6708\u6307\u5B9A",-1),Ke=["disabled"],Qe=["value"],xe=t("br",null,null,-1),et=t("label",{for:"angle"},"\u89D2\u5EA6\u6307\u5B9A",-1),tt=t("br",null,null,-1),ut=t("label",{for:"year"},"\u5E74\u5909\u52D5",-1),nt={class:"col"},ot={class:"card mb-4 shadow-sm"},st=t("div",{class:"card-header"},[t("h4",null,"\u89D2\u5EA6\u6307\u5B9A")],-1),lt={class:"card-body"},at=["disabled"],it=t("label",{for:"tilt"},"\u50BE\u659C\u89D2\u6307\u5B9A",-1),rt=["disabled"],dt=["value"],ht=a(" \u5EA6 "),ct=t("br",null,null,-1),pt=["disabled"],mt=t("label",{for:"azimuth"},"\u65B9\u4F4D\u89D2\u6307\u5B9A",-1),ft=["disabled"],bt=a(" \u5EA6 "),_t=t("br",null,null,-1),Ct=["disabled"],Bt=t("label",{for:"tiltAzimuth"},"\u4EFB\u610F\u306E\u6307\u5B9A",-1),At=t("br",null,null,-1),Et=a(" \u50BE\u659C\u89D2"),Ft=["disabled"],gt=a("\u5EA6 "),vt=t("br",null,null,-1),yt=a(" \u65B9\u4F4D\u89D2"),$t=["disabled"],Dt=a(" \u5EA6 "),kt=t("br",null,null,-1),wt=["disabled"],Mt=t("label",{for:"bestAngle"},"\u6700\u9069\u50BE\u659C\u89D2",-1),St=t("br",null,null,-1),Tt=["disabled"],zt=t("label",{for:"everyMonthBest"},"\u5404\u6708\u306E\u6700\u9069\u50BE\u659C\u89D2\u306B\u304A\u3051\u308B\u65E5\u5C04\u91CF",-1),It=t("br",null,null,-1),Vt=["disabled"],Nt=t("label",{for:"yearBest"},"\u5E74\u9593\u6700\u9069\u50BE\u659C\u89D2\u306B\u304A\u3051\u308B\u65E5\u5C04\u91CF",-1),Lt={class:"col"},Pt={class:"card mb-4 shadow-sm"},Ut=t("div",{class:"card-header"},[t("h4",null,"\u30D1\u30CD\u30EB")],-1),Yt={class:"card-body"},Ot=t("label",null,"\u50BE\u659C\u89D2",-1),Wt=a(" 0\xB0"),jt=a("90\xB0 "),Ht={id:"tickmarks"},Xt=["value"],Gt=t("br",null,null,-1),Rt=t("label",null,"\u65B9\u4F4D\u89D2",-1),qt=a(" \u5357"),Jt=a("\u5317 "),Zt={id:"tickmarksA"},Kt=["value"],Qt=a("\u30C7\u30FC\u30BF\u4E00\u89A7\u8868\u3092\u8868\u793A");function xt(e,u,i,l,s,r){const n=v("router-link"),c=v("panel-preview"),C=v("Chart");return d(),h(m,null,[t("div",Ie,[t("div",Ve,[t("div",Ne,[Le,t("div",Pe,[Ue,_(t("select",{"onUpdate:modelValue":u[0]||(u[0]=o=>e.selectedArea=o)},[(d(!0),h(m,null,f(e.areaList,o=>(d(),h("option",{key:o.id,value:o.id},p(o.name),9,Ye))),128))],512),[[F,e.selectedArea]]),Oe,We,_(t("select",{"onUpdate:modelValue":u[1]||(u[1]=o=>e.selectedAmedas=o)},[(d(!0),h(m,null,f(e.filteredPoints,o=>(d(),h("option",{key:o.id,value:o.id},p(o.name),9,je))),128))],512),[[F,e.selectedAmedas]]),He,M(n,{to:{name:"map"}},{default:L(()=>[Xe]),_:1})])])]),t("div",Ge,[t("div",Re,[qe,t("div",Je,[_(t("input",{type:"radio",id:"month",value:"Month","onUpdate:modelValue":u[2]||(u[2]=o=>e.picked=o)},null,512),[[A,e.picked]]),Ze,_(t("select",{"onUpdate:modelValue":u[3]||(u[3]=o=>e.optionMonth=o),disabled:e.picked!="Month"},[(d(),h(m,null,f([1,2,3,4,5,6,7,8,9,10,11,12],o=>t("option",{value:o,key:o},p(o)+"\u6708 ",9,Qe)),64))],8,Ke),[[F,e.optionMonth]]),xe,_(t("input",{type:"radio",id:"angle",value:"Angle","onUpdate:modelValue":u[4]||(u[4]=o=>e.picked=o)},null,512),[[A,e.picked]]),et,tt,_(t("input",{type:"radio",id:"year",value:"Year","onUpdate:modelValue":u[5]||(u[5]=o=>e.picked=o)},null,512),[[A,e.picked]]),ut])])]),t("div",nt,[t("div",ot,[st,t("div",lt,[_(t("input",{type:"radio",id:"tilt",value:"Tilt","onUpdate:modelValue":u[6]||(u[6]=o=>e.angleMode=o),disabled:e.picked!="Angle"},null,8,at),[[A,e.angleMode]]),it,_(t("select",{"onUpdate:modelValue":u[7]||(u[7]=o=>e.valueTilt=o),disabled:e.picked!="Angle"||e.angleMode!="Tilt"},[(d(),h(m,null,f([0,10,20,30,40,50,60,70,80,90],o=>t("option",{value:o,key:o},p(o),9,dt)),64))],8,rt),[[F,e.valueTilt,void 0,{number:!0}]]),ht,ct,_(t("input",{type:"radio",id:"azimuth",value:"Azimuth","onUpdate:modelValue":u[8]||(u[8]=o=>e.angleMode=o),disabled:e.picked!="Angle"},null,8,pt),[[A,e.angleMode]]),mt,_(t("select",{"onUpdate:modelValue":u[9]||(u[9]=o=>e.valueAzimuth=o),disabled:e.picked!="Angle"||e.angleMode!="Azimuth"},[(d(),h(m,null,f([0,15,30,45,60,75,90,105,120,135,150,165,180],o=>t("option",{key:o},p(o),1)),64))],8,ft),[[F,e.valueAzimuth,void 0,{number:!0}]]),bt,_t,_(t("input",{type:"radio",id:"tiltAzimuth",value:"TiltAzimuth","onUpdate:modelValue":u[10]||(u[10]=o=>e.angleMode=o),disabled:e.picked!="Angle"},null,8,Ct),[[A,e.angleMode]]),Bt,At,Et,_(t("select",{"onUpdate:modelValue":u[11]||(u[11]=o=>e.valueTilt=o),disabled:e.picked!="Angle"||e.angleMode!="TiltAzimuth"},[(d(),h(m,null,f([0,10,20,30,40,50,60,70,80,90],o=>t("option",{key:o},p(o),1)),64))],8,Ft),[[F,e.valueTilt,void 0,{number:!0}]]),gt,vt,yt,_(t("select",{"onUpdate:modelValue":u[12]||(u[12]=o=>e.valueAzimuth=o),disabled:e.picked!="Angle"||e.angleMode!="TiltAzimuth"},[(d(),h(m,null,f([0,15,30,45,60,75,90,105,120,135,150,165,180],o=>t("option",{key:o},p(o),1)),64))],8,$t),[[F,e.valueAzimuth,void 0,{number:!0}]]),Dt,kt,_(t("input",{type:"radio",id:"bestAngle",value:"BestAngle","onUpdate:modelValue":u[13]||(u[13]=o=>e.angleMode=o),disabled:e.picked!="Angle"},null,8,wt),[[A,e.angleMode]]),Mt,St,_(t("input",{type:"radio",id:"everyMonthBest",value:"EveryMonthBest","onUpdate:modelValue":u[14]||(u[14]=o=>e.angleMode=o),disabled:e.picked!="Angle"},null,8,Tt),[[A,e.angleMode]]),zt,It,_(t("input",{type:"radio",id:"yearBest",value:"YearBest","onUpdate:modelValue":u[15]||(u[15]=o=>e.angleMode=o),disabled:e.picked!="Angle"},null,8,Vt),[[A,e.angleMode]]),Nt])])]),t("div",Lt,[t("div",Pt,[Ut,t("div",Yt,[M(c,{altitude:-e.valueTilt/180*Math.PI,azimuth:e.valueAzimuth/180*Math.PI},null,8,["altitude","azimuth"]),Ot,Wt,_(t("input",{type:"range",list:"tickmarks",step:"10",min:"0",max:"90","onUpdate:modelValue":u[16]||(u[16]=o=>e.valueTilt=o)},null,512),[[W,e.valueTilt,void 0,{number:!0}]]),jt,t("datalist",Ht,[(d(!0),h(m,null,f(Array.from({length:10},(o,$)=>$*10),o=>(d(),h("option",{key:o,value:o,label:"0%"},null,8,Xt))),128))]),Gt,Rt,qt,_(t("input",{type:"range",list:"tickmarksA",step:"15",min:"0",max:"180","onUpdate:modelValue":u[17]||(u[17]=o=>e.valueAzimuth=o)},null,512),[[W,e.valueAzimuth,void 0,{number:!0}]]),Jt,t("datalist",Zt,[(d(!0),h(m,null,f(Array.from({length:12},(o,$)=>$*15+15),o=>(d(),h("option",{key:o,value:o},null,8,Kt))),128))])])])])]),e.info!=null?(d(),j(C,{key:0,data:e.chartData,options:e.chartOptions},null,8,["data","options"])):z("",!0),M(n,{to:"/table/m"+e.selectedAmedas},{default:L(()=>[Qt]),_:1},8,["to"])],64)}var eu=g(ze,[["render",xt]]);const tu={name:"HomeView",components:{Home:eu}};function uu(e,u,i,l,s,r){const n=v("Home");return d(),j(n)}var nu=g(tu,[["render",uu]]);const ou={name:"TableView",props:{amedas:String},data:()=>({info:null}),mounted:function(){fetch("/monsola11-clone/data/monsola11/"+this.amedas+".bin").then(e=>e.blob()).then(e=>e.arrayBuffer()).then(e=>this.info=P(e))},computed:{caption:function(){return this.info==null?"":`\u5730\u70B9 ${this.info.name} (\u7DEF\u5EA6=${this.info.lat_d}\xB0${this.info.lat_m}\u2032 \u7D4C\u5EA6=${this.info.long_d}\xB0${this.info.long_m}\u2032 \u6A19\u9AD8=${this.info.alti}m)`}}},b=e=>(H("data-v-1b90e72d"),e=e(),X(),e),su=b(()=>t("h1",null,"\u6708\u5E73\u5747\u659C\u9762\u65E5\u5C04\u91CF (kWh/\u33A1\u30FBday)",-1)),lu={key:0,class:"table"},au=b(()=>t("tr",null,[t("th",null,"\u65B9\u4F4D\u89D2"),t("th",null,"\u50BE\u659C\u89D2"),t("th",null,"1\u6708"),t("th",null,"2\u6708"),t("th",null,"3\u6708"),t("th",null,"4\u6708"),t("th",null,"5\u6708"),t("th",null,"6\u6708"),t("th",null,"7\u6708"),t("th",null,"8\u6708"),t("th",null,"9\u6708"),t("th",null,"10\u6708"),t("th",null,"11\u6708"),t("th",null,"12\u6708"),t("th",null,[a("\u5E74"),t("br"),a("1-12\u6708")]),t("th",null,[a("\u51AC"),t("br"),a("12-2\u6708")]),t("th",null,[a("\u6625"),t("br"),a("2-5\u6708")]),t("th",null,[a("\u590F"),t("br"),a("6-8\u6708")]),t("th",null,[a("\u79CB"),t("br"),a("9-11\u6708")])],-1)),iu=b(()=>t("td",{rowspan:"3"},"\u6C34\u5E73\u9762",-1)),ru=b(()=>t("td",null,[a("\u5E73\u5747\u5024"),t("br"),a("(C)")],-1)),du=b(()=>t("td",null,"\u6700\u5927\u5024",-1)),hu=b(()=>t("td",null,"\u6700\u5C0F\u5024",-1)),cu={key:0,rowspan:"9"},pu=b(()=>t("td",{colspan:"2"},"\u6708\u5225\u6700\u9069\u50BE\u659C\u89D2",-1)),mu=a("\uFF0A"),fu=b(()=>t("br",null,null,-1)),bu=a("\uFF0A\uFF0A"),_u=b(()=>t("br",null,null,-1)),Cu=a("\uFF0A\uFF0A"),Bu=b(()=>t("br",null,null,-1)),Au=a("\uFF0A\uFF0A"),Eu=b(()=>t("br",null,null,-1)),Fu=a("\uFF0A\uFF0A"),gu=b(()=>t("br",null,null,-1)),vu=b(()=>t("td",{colspan:"2"},[a("\u6708\u5225\u6700\u9069\u50BE\u659C\u89D2"),t("br"),a("\u306B\u304A\u3051\u308B\u65E5\u5C04\u91CF(A)")],-1)),yu=a("\u203B"),$u=b(()=>t("br",null,null,-1)),Du=a("\u203B\u203B"),ku=b(()=>t("br",null,null,-1)),wu=a("\u203B\u203B"),Mu=b(()=>t("br",null,null,-1)),Su=a("\u203B\u203B"),Tu=b(()=>t("br",null,null,-1)),zu=a("\u203B\u203B"),Iu=b(()=>t("br",null,null,-1)),Vu=b(()=>t("td",{colspan:"2"},[a("\u5E74\u9593\u6700\u9069\u50BE\u659C\u89D2"),t("br"),a("\u306B\u304A\u3051\u308B\u65E5\u5C04\u91CF(B)")],-1)),Nu=b(()=>t("td",{colspan:"2"},"\u6BD4\u7387 (A/B)",-1)),Lu=b(()=>t("td",{colspan:"2"},"\u6BD4\u7387 (B/C)",-1)),Pu=b(()=>t("td",{colspan:"2"},"\u5E73\u5747\u6C17\u6E29",-1)),Uu=b(()=>t("td",{colspan:"2"},"\u6563\u4E71\u65E5\u5C04\u91CF",-1)),Yu=b(()=>t("td",{colspan:"2"},[a("\u7A4D\u96EA10cm\u4EE5\u4E0A"),t("br"),a("\u306E\u51FA\u73FE\u7387")],-1)),Ou=a(" \uFF0A\u5E74\u9593\u6700\u9069\u50BE\u659C\u89D2 \uFF0A\uFF0A\u5B63\u7BC0\u5225\u6700\u9069\u50BE\u659C\u89D2\u3000\u203B\u6708\u5225\u6700\u9069\u50BE\u659C\u89D2\u306B\u304A\u3051\u308B\u65E5\u5C04\u91CF\u306E\u5E74\u5E73\u5747\u5024 \u203B\u203B\u5B63\u7BC0\u5225\u6700\u9069\u50BE\u659C\u89D2\u306B\u304A\u3051\u308B\u65E5\u5C04\u91CF ");function Wu(e,u,i,l,s,r){return d(),h(m,null,[su,a(" "+p(r.caption)+" ",1),e.info?(d(),h("table",lu,[au,t("tr",null,[iu,ru,(d(!0),h(m,null,f(e.info.data[0],n=>(d(),h("td",{key:n},p(n),1))),128))]),t("tr",null,[du,(d(!0),h(m,null,f(e.info.data[1],n=>(d(),h("td",{key:n},p(n),1))),128))]),t("tr",null,[hu,(d(!0),h(m,null,f(e.info.data[2],n=>(d(),h("td",{key:n},p(n),1))),128))]),(d(),h(m,null,f(117,n=>t("tr",{key:n},[(n-1)%9==0?(d(),h("td",cu,p(Math.floor((n-1)/9)*15)+"\xB0 ",1)):z("",!0),t("td",null,p(((n-1)%9+1)*10)+"\xB0",1),(d(),h(m,null,f(17,c=>t("td",{key:c},p(e.info.data[n+2][c-1].toFixed(2)),1)),64))])),64)),t("tr",null,[pu,(d(),h(m,null,f(12,n=>t("td",{key:n},p(e.info.data[120][n-1].toFixed(1)),1)),64)),t("td",null,[mu,fu,a(p(e.info.data[120][12].toFixed(1)),1)]),t("td",null,[bu,_u,a(p(e.info.data[120][13].toFixed(1)),1)]),t("td",null,[Cu,Bu,a(p(e.info.data[120][14].toFixed(1)),1)]),t("td",null,[Au,Eu,a(p(e.info.data[120][15].toFixed(1)),1)]),t("td",null,[Fu,gu,a(p(e.info.data[120][16].toFixed(1)),1)])]),t("tr",null,[vu,(d(),h(m,null,f(12,n=>t("td",{key:n},p(e.info.data[121][n-1].toFixed(2)),1)),64)),t("td",null,[yu,$u,a(p(e.info.data[121][12].toFixed(1)),1)]),t("td",null,[Du,ku,a(p(e.info.data[121][13].toFixed(1)),1)]),t("td",null,[wu,Mu,a(p(e.info.data[121][14].toFixed(1)),1)]),t("td",null,[Su,Tu,a(p(e.info.data[121][15].toFixed(1)),1)]),t("td",null,[zu,Iu,a(p(e.info.data[121][16].toFixed(1)),1)])]),t("tr",null,[Vu,(d(),h(m,null,f(17,n=>t("td",{key:n},p(e.info.data[122][n-1].toFixed(2)),1)),64))]),t("tr",null,[Nu,(d(),h(m,null,f(17,n=>t("td",{key:n},p(e.info.data[123][n-1].toFixed(2)),1)),64))]),t("tr",null,[Lu,(d(),h(m,null,f(17,n=>t("td",{key:n},p(e.info.data[124][n-1].toFixed(2)),1)),64))]),t("tr",null,[Pu,(d(),h(m,null,f(17,n=>t("td",{key:n},p(e.info.data[125][n-1].toFixed(1)),1)),64))]),t("tr",null,[Uu,(d(),h(m,null,f(17,n=>t("td",{key:n},p(e.info.data[126][n-1].toFixed(2)),1)),64))]),t("tr",null,[Yu,(d(),h(m,null,f(17,n=>t("td",{key:n},p(e.info.data[127][n-1].toFixed(2)),1)),64))])])):z("",!0),Ou],64)}var ju=g(ou,[["render",Wu],["__scopeId","data-v-1b90e72d"]]);const Hu=T({props:{},mounted(){fetch("/monsola11-clone"+"/data/point_amedas.txt").then(u=>u.text()).then(u=>this.amedasList=G(u)).then(()=>{fetch("/monsola11-clone/data/japan.geojson").then(u=>u.json()).then(u=>{this.createMap(u)})})},data(){return{areaList:null,nationwidePos:null,amedasList:[],d:null,scale:20,x:138,y:36,startX:null,startY:null,mouseX:null,mouseY:null,selectedAmedas:null,width:800,height:600}},methods:{createMap:function(e){const u=[];for(let i=0;i<e.features.length;i++){const l=[];if(e.features[i].geometry.type==="MultiPolygon")for(let s=0;s<e.features[i].geometry.coordinates.length;s++)for(let r=0;r<e.features[i].geometry.coordinates[s].length;r++){const n=e.features[i].geometry.coordinates[s][r],c=[];for(let C of n)c.push(C[0]+","+C[1]);l.push("M"+c.join("L")+"Z")}else if(e.features[i].geometry.type==="Polygon")for(let s=0;s<e.features[i].geometry.coordinates.length;s++){const r=e.features[i].geometry.coordinates[s],n=[];for(let c of r)n.push(c[0]+","+c[1]);l.push("M"+n.join("L")+"Z")}u.push(l.join(""))}this.d=u},scroll(e){this.scale-=e.deltaY/150*2,this.scale<10&&(this.scale=10),this.scale>100&&(this.scale=100),e.preventDefault()},drag(e){e.buttons===1&&(this.x=this.startX+-(e.x-this.mouseX)/this.scale,this.y=this.startY+(e.y-this.mouseY)/this.scale)},dragstart(e){e.buttons===1&&(this.mouseX=e.x,this.mouseY=e.y,this.startX=this.x,this.startY=this.y)}},computed:{transform:function(){const e=`translate(${this.width/2},${this.height/2})`,u=`scale(${this.scale}, -${this.scale})`,i=`translate(-${this.x}, -${this.y})`;return e+" "+u+" "+i},amedas:{get(){return this.$store.state.amedas},set(e){this.$store.commit("setAmedas",e)}},getSelectedAmedas(){return this.amedasList==null||this.amedas==null?null:this.amedasList.find(e=>e.id==this.amedas)}}}),y=e=>(H("data-v-3fd40998"),e=e(),X(),e),Xu=["width","height"],Gu=["transform"],Ru=["d"],qu=["cx","cy","onClick"],Ju={key:0},Zu=y(()=>t("th",null,"\u5730\u70B9",-1)),Ku=y(()=>t("th",null,"\u7DEF\u5EA6",-1)),Qu=y(()=>t("th",null,"\u7D4C\u5EA6",-1)),xu=y(()=>t("th",null,"\u6A19\u9AD8",-1)),en=y(()=>t("button",null,[a("\u3053\u306E\u5730\u70B9\u306E\u30B0\u30E9\u30D5\u3092"),t("br"),a("\u8868\u793A")],-1)),tn=y(()=>t("br",null,null,-1)),un=a(" \u203B\u56FD\u571F\u5730\u7406\u9662\u767A\u884C\u306E\u5730\u7403\u5730\u56F3\u65E5\u672C\u306E\u30C7\u30FC\u30BF\u3092\u5229\u7528\u3057\u3066\u3044\u307E\u3059\u3002 ");function nn(e,u,i,l,s,r){const n=v("router-link");return d(),h(m,null,[(d(),h("svg",{id:"map",width:e.width,height:e.height,onWheel:u[0]||(u[0]=(...c)=>e.scroll&&e.scroll(...c)),onMousedown:u[1]||(u[1]=(...c)=>e.dragstart&&e.dragstart(...c)),onMousemove:u[2]||(u[2]=(...c)=>e.drag&&e.drag(...c))},[t("g",{transform:e.transform},[t("g",null,[(d(!0),h(m,null,f(e.d,(c,C)=>(d(),h("path",{d:c,key:C},null,8,Ru))),128))]),t("g",null,[(d(!0),h(m,null,f(e.amedasList,c=>(d(),h("circle",{key:c.id,cx:c.long,cy:c.lat,r:"0.1",onClick:de(C=>e.amedas=c.id,["stop"]),class:he({active:e.amedas===c.id})},null,10,qu))),128))])],8,Gu)],40,Xu)),e.getSelectedAmedas?(d(),h("div",Ju,[t("table",null,[t("tr",null,[Zu,t("td",null,p(e.getSelectedAmedas.name),1)]),t("tr",null,[Ku,t("td",null,p(e.getSelectedAmedas.lat)+" \xB0",1)]),t("tr",null,[Qu,t("td",null,p(e.getSelectedAmedas.long)+" \xB0",1)]),t("tr",null,[xu,t("td",null,p(e.getSelectedAmedas.alti)+" m",1)])]),M(n,{to:{name:"home"}},{default:L(()=>[en]),_:1})])):z("",!0),tn,un],64)}var on=g(Hu,[["render",nn],["__scopeId","data-v-3fd40998"]]);const sn=[{path:"/",name:"home",component:nu},{path:"/map",name:"map",component:on},{path:"/table/:amedas",name:"table",component:ju,props:!0}],ln=ce({history:pe("/monsola11-clone"),strict:!0,routes:sn}),an=me({state:{area:11,amedas:11001},mutations:{setArea(e,u){e.area=u},setAmedas(e,u){e.amedas=u}}});const U=fe(Fe);U.use(ln);U.use(an);U.mount("#app");
